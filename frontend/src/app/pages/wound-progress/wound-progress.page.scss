.wp-root {
  --ion-background-color: var(--ww-bg);
  color: var(--ww-text-primary);
  font-family: Manrope, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
}

.page-center {
  min-height: 100vh;
  display: grid;
  place-items: center;
  padding: 16px;
}

.card {
  width: 100%;
  max-width: 960px; /* ~5xl feel */
  background: var(--ww-surface);
  border: 1px solid var(--ww-border);
  border-radius: 12px;
  box-shadow: 0 24px 64px rgba(0,0,0,.5);
  display: flex;
  flex-direction: column;
}

/* Header */
.card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 24px;
  border-bottom: 1px solid var(--ww-border);
}
.title { margin: 0 0 4px; font-size: 24px; font-weight: 800; letter-spacing: -0.01em; }
.subtitle { margin: 0; font-size: 14px; color: var(--ww-text-secondary); }

.btn {
  display: inline-flex; align-items: center; gap: 8px;
  height: 40px; padding: 0 16px;
  border-radius: 10px; border: none; cursor: pointer;
  font-weight: 800; font-size: 14px; letter-spacing: .02em;
}
.btn.ghost { background: color-mix(in srgb, var(--ww-text-secondary) 12%, transparent); color: var(--ww-text-primary); }
.btn.ghost:hover { background: color-mix(in srgb, var(--ww-text-secondary) 20%, transparent); }

.ms {
  font-family: 'Material Symbols Outlined';
  font-variation-settings: 'FILL' 0,'wght' 400,'GRAD' 0,'opsz' 24;
  font-size: 20px;
  color: var(--ww-text-primary);
}

/* Main image */
.main-wrap {
  padding: 32px;
  display: grid;
  grid-template-columns: 1fr; /* Single column by default */
  gap: 32px;
  align-items: flex-start;
  width: 100%;
}

@media (min-width: 768px) { /* Tablet and larger */
  .main-wrap {
    grid-template-columns: 2fr 1fr; /* 66% image, 33% note */
  }
}

.main-image {
  position: relative;
  width: 100%;
  border: 1px solid var(--ww-primary);
  border-radius: 10px;
  overflow: hidden;
  background: #000;
}
.main-image img, .main-image .thumb-empty {
  width: 100%; height: auto; display: block; aspect-ratio: 4 / 3; object-fit: cover;
}
.badge {
  position: absolute; left: 12px; bottom: 12px;
  background: rgba(0,0,0,.5);
  color: #fff; font-weight: 700; font-size: 14px;
  padding: 6px 10px; border-radius: 8px;
  backdrop-filter: blur(6px);
}

/* Note section */
.note-wrapper {
  width: 100%;
  height: 100%;
  min-height: 150px;
}
.note-display {
  background: var(--ww-bg);
  border: 1px solid var(--ww-border);
  border-radius: 10px;
  padding: 20px;
  height: 100%;
}
.note-title {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 16px;
  font-weight: 800;
  margin: 0 0 12px;
  color: var(--ww-text-primary);
}
.note-title .ms { font-size: 20px; }
.note-body {
  font-size: 14px;
  line-height: 1.6;
  color: var(--ww-text-secondary);
  margin: 0;
  white-space: pre-wrap; /* preserves whitespace and newlines */
}
.note-empty {
  display: grid;
  place-content: center;
  text-align: center;
  height: 100%;
}
.note-empty .ms {
  font-size: 48px;
  color: var(--ww-text-secondary);
  opacity: 0.5;
  margin-bottom: 12px;
}
.note-empty .note-title {
  justify-content: center;
  font-size: 14px;
  color: var(--ww-text-secondary);
  margin: 0;
}
.note-empty .note-body {
  font-size: 12px;
}
  
/* Thumbnails row */
.thumbs {
  display: flex; flex-wrap: wrap; gap: 16px;
  justify-content: center; align-items: flex-start;
  padding: 0 24px 24px;
  grid-column: 1 / -1; /* Span full width */
}
.thumb { display: flex; flex-direction: column; align-items: center; gap: 8px; text-align: center; cursor: pointer; }
.thumb img {
  width: 128px; height: 96px; object-fit: cover;
  border-radius: 8px; border: 1px solid var(--ww-border);
  transition: border-color .15s ease;
}
.thumb:hover img { border-color: color-mix(in srgb, var(--ww-primary) 50%, #ffffff 50%); }
.thumb.active img { border-color: var(--ww-primary); }

.thumb-empty {
  width: 128px; height: 96px;
  border-radius: 8px;
  border: 1px dashed var(--ww-border);
  background: var(--ww-bg);
  display: grid; place-items: center;
}

.main-image .thumb-empty {
  width: 100%;
  aspect-ratio: 4 / 1;
  border-radius: 16px;
  border: 2px dashed var(--ww-border);
  display: grid;
  place-items: center;
}
  
.main-image .thumb-empty .ms {
  font-size: 64px;
  color: var(--ww-text-secondary);
  opacity: 0.5;
}

.thumb-empty .ms { color: var(--ww-text-secondary); }

.thumb-label {
  margin: 0; font-size: 12px; color: var(--ww-text-secondary); font-weight: 600;
}

.icon-button {
  margin-top: 6px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  font-weight: 700;
  color: var(--ww-text-secondary);
  background: transparent;
  border: 1px solid var(--ww-border);
  border-radius: 8px;
  padding: 6px 10px;
  cursor: pointer;
  transition: background .15s ease, border-color .15s ease, color .15s ease;
}
.icon-button:hover {
  background: color-mix(in srgb, var(--ww-text-secondary) 12%, transparent);
  border-color: color-mix(in srgb, var(--ww-primary) 40%, #ffffff 60%);
  color: var(--ww-text-primary);
}
.icon-button ion-icon { font-size: 14px; }
  
  