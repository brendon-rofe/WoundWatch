<ion-content [fullscreen]="true" class="wp-root">
    <div class="page-center">
      <div class="card">
  
        <!-- Header -->
        <div class="card-header">
          <div>
            <p class="title">Your 5-Day Progress</p>
            <p class="subtitle">Review your wound's healing journey over the last five days.</p>
          </div>
          <button class="btn ghost" routerLink="">
            <span class="ms">arrow_back</span>
            <span>Back to Home</span>
          </button>
        </div>
  
        @if (selected) {
          <div class="main-wrap">
            <div class="main-image">
              @if (selected.src) {
                <img [src]="selected.src" [alt]="selected.alt" />
              } @else {
                <div class="thumb-empty" style="width:100%;aspect-ratio:4/3;">
                  <span class="ms">image</span>
                </div>
              }
        
              <div class="badge">{{ selected.badge }}</div>
            </div>
          </div>
        } @else {
          <div class="main-wrap">
            <div class="main-image">
              <div style="aspect-ratio:4/3;width:100%;max-width:720px;background:#222;border-radius:10px;display:grid;place-items:center;">
                <span class="ms">hourglass_empty</span>
              </div>
            </div>
          </div>
        }
  
        @if (days && days.length) {
          <div class="thumbs">
            @for (d of days; track d.date) {
              <div class="thumb" [class.active]="selected && d.date===selected.date" (click)="select(d)">
                @if (d.src) {
                  <img [src]="d.src" [alt]="d.alt" />
                } @else {
                  <div class="thumb-empty"><span class="ms">image</span></div>
                }
                <p class="thumb-label">{{ d.label }}</p>
        
                <!-- Delete action -->
                @if (d.src && d.path) {
                  <button class="icon-button" title="Delete photo"
                          (click)="deleteDayItem(d, $event)">
                    <ion-icon name="trash-bin" class="icon"></ion-icon>
                    <span>Delete</span>
                  </button>
                }
              </div>
            }
          </div>
        } @else {
          <div class="thumbs"><p class="thumb-label">No images yet</p></div>
        }
  
      </div>
    </div>
  </ion-content>
  